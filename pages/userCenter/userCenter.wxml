<view class="user-center {{nodata && 'nodata'}}" wx:if="{{loading}}">
    <view class="banner">
        <!-- 背景图 -->
        <view class="banner-bg {{ nodata ? 'sign' : ''}}"></view>
        <!-- 个人信息 -->
        <view class="message">

            <view class="no-data-layout" wx:if="{{nodata}}" bindtap="getAuth">
                <text class="no-data-title">花样百姓</text>
                <text class="no-data-sub-title">面向50岁+新青年的生活方式平台，倡导和引领积极、健康、时尚的品质生活方式。</text>
                <view class="no-data-btn">立即登录</view>
            </view>
            <block wx:else>
                <image src="{{userInfo.avatar_url}}" bindtap="getAuth"></image>
                <view class="user-info">
                    <view class="nick-name">
                        <view class="name limit-one-line" style="max-width: 500rpx;">{{userInfo.nick_name || userInfo.nickname}}</view>
                    </view>
                </view>
            </block>
        </view>

    </view>

    <!-- 功能栏 -->
    <view class="function">
        <view class="function-list">
            <view class="function-item" bindtap="toOrder">
                <view class="function-item-left">
                    <image src="/assets/images/common/order.png"></image>
                    <view class="function-item-box">
                        <view class="function-item-top">我的订单</view>
                    </view>
                </view>
                <image src="/assets/images/common/arrow.png"></image>
            </view>
            <view class="function-item" bindtap="goToTaskBootcampPage">
                <view class="function-item-left">
                    <image src="/assets/images/common/bootcamp.png" class="task-image"></image>
                    <view class="function-item-box">
                        <view class="function-item-top">我的主题营</view>
                    </view>
                </view>
                <image src="/assets/images/common/arrow.png"></image>
            </view>
            <view class="function-item" bindtap="goToTaskCoursePage">
                <view class="function-item-left">
                    <image src="/assets/images/common/course.png" class="task-image"></image>
                    <view class="function-item-box">
                        <view class="function-item-top">我的课程</view>
                    </view>
                </view>
                <image src="/assets/images/common/arrow.png"></image>
            </view>
            <!--			<view class="function-item" bindtap="goToTaskLaunchPage" wx:if="{{false}}">-->
            <!--				<view class="function-item-left">-->
            <!--					<image src="/assets/images/common/task.png" class="task-image"></image>-->
            <!--					<view class="function-item-box">-->
            <!--						<view class="function-item-top">我的作业</view>-->
            <!--						<view class="function-item-bottom">查看作业记录</view>-->
            <!--					</view>-->
            <!--				</view>-->
            <!--				<image src="/assets/images/common/arrow.png"></image>-->
            <!--			</view>-->
            <view class="function-item" bindtap="goToBooks">
                <view class="function-item-left">
                    <image src="/assets/images/common/book.png" class="task-image"></image>
                    <view class="function-item-box">
                        <view class="function-item-top">时尚画册</view>
                    </view>
                </view>
                <image src="/assets/images/common/arrow.png"></image>
            </view>
            <view class="function-item" bindtap="goToConvertCashPage">
                <view class="function-item-left">
                    <image src="/assets/images/common/newBalance.png" class="task-image"></image>
                    <view class="function-item-box">
                        <view class="function-item-top">我的余额</view>
                        <view class="function-item-bottom" wx:if="{{userInfo.mobile}}">当前余额：<text>{{userInfo.amount}}元</text>
                        </view>
                        <view class="function-item-bottom" wx:else>查看余额信息</view>
                    </view>
                </view>
                <image src="/assets/images/common/arrow.png"></image>

            </view>
            <view class="function-item" bindtap="callPhone">
                <view class="function-item-left">
                    <image src="/assets/images/common/contact.png" class="task-image"></image>
                    <view class="function-item-box">
                        <view class="function-item-top">联系客服</view>
                        <view class="function-item-bottom">工作日9:00-18:00</view>
                    </view>
                </view>
                <image src="/assets/images/common/arrow.png"></image>
            </view>
        </view>
    </view>

    <!-- 广告位 -->
    <view class="ad {{ nodata && 'nodata' }}" wx:if="{{bannerList.length > 0}}">
        <swiper class="swiper-item-box" circular autoplay interval="{{3000}}" duration="{{500}}">
            <swiper-item wx:for="{{bannerList}}" wx:key="index" bindtap="onBannerItemTap" data-item="{{item}}">
                <view class="swiper-cover"></view>
                <image mode="cover" src="{{item.pic_url}}"></image>
            </swiper-item>
        </swiper>
    </view>

    <!-- 授权弹窗 -->
    <authModule show="{{didShowAuth}}" bind:authCancelEvent="authCancelEvent"
                bind:authCompleteEvent="authCompleteEvent">
    </authModule>
    <!-- 加入俱乐部会员弹窗 -->
    <clubVipAlert type="{{showClubVipAlertType}}" show="{{showClubVipAlert}}" bind:closeClubVipAlert='closeClubVipAlert'
                  catchtouchmove="onCatchtouchmove" link="{{showClubVipAlertLink}}"></clubVipAlert>
</view>
